{{#view App.SnippetsView}}
<pre><code>
chrome.pushMessaging.getChannelId( true, function(channelId) {
    /*
        Set our Variant ID and Secret and the location of the UnifiedPush Server
    */
    var variantId = "{{variantID}}",
        variantSecret = "{{secret}}",
        pushServerURL = "{{upsUrl}}";

    // Once we have the channelID we can then register with the UnifiedPush Server using
    // the AeroGear.js library
    var client = AeroGear.UnifiedPushClient(
            variantId,
            variantSecret,
            pushServerURL
        ),settings = {};
        // The channelId will be the "device token"

    settings.metadata = {
        deviceToken: channelId.channelId
    };

    // Register with the UnifiedPush Server
    client.registerWithPushServer( settings );

});
</code></pre>
{{/view}}